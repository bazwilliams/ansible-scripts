- alias: morning_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Morning Variation
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Morning
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_morning
- alias: morning_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Morning Variation
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Morning
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_morning
- alias: morning_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - switch.living_room_main
          - group.living_room
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_morning
- alias: morning_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.downstairs_hallway
          - switch.living_room_main
          - group.living_room
          - group.terrace
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_morning
- alias: daytime_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Colourful Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Evening
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Daytime
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_daytime
- alias: daytime_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Daytime Presence
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Daytime
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_daytime
- alias: daytime_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Daytime
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_daytime
- alias: daytime_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Daytime
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_daytime
- alias: evening_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Colourful Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Evening
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_evening
- alias: evening_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Daytime Presence
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_evening
- alias: evening_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_evening
- alias: evening_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Bright Outside
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_evening
- alias: late_evening_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Late Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Late Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_evening
- alias: late_evening_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Late Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_evening
- alias: late_evening_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Late Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_evening
- alias: late_evening_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Late Evening
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_evening
- alias: early_night_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_early_night
- alias: early_night_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_early_night
- alias: early_night_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_early_night
- alias: early_night_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_early_night
- alias: late_night_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_dark_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_night
- alias: late_night_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_night
- alias: late_night_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_night
- alias: late_night_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Early Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_late_night
- alias: night_dark_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_dark_home
  action:
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - switch.living_room_main
          - group.living_room
          - group.terrace
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_night
- alias: night_dim_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_dim_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_night
- alias: night_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_night
- alias: night_very_bright_home
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_very_bright_home
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.upstairs_hallway_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Night
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_night

- alias: morning_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Morning Variation Away
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: Morning
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: morning_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Morning Variation Away
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: Morning
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: morning_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
          - group.downstairs_hallway
          - switch.living_room_main
          - group.living_room
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: morning_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: morning_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
          - group.downstairs_hallway
          - switch.living_room_main
          - group.living_room
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: daytime_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Colourful Evening Away
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: daytime_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: daytime_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: daytime_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: daytime_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: evening_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Colourful Evening Away
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: evening_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: evening_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: evening_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: evening_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_evening_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Late Evening Away
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_evening_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_evening_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: Downstairs Hallway
        scene_name: Daytime Presence
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_evening_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_evening_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: early_night_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: early_night_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: early_night_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: early_night_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: early_night_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_night_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_dimmed
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Living Room Evening"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_night_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: hue.hue_activate_scene
      data:
        group_name: "Living room"
        scene_name: "Dull Outside"
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_night_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: late_night_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: late_night_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.downstairs_hallway
          - group.upstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: night_dark_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_dark_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
          - group.terrace
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: night_dim_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_dim_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: night_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away
- alias: night_very_bright_away
  initial_state: true
  trigger:
    platform: state
    entity_id: sensor.house_mode
    to: night_very_bright_away
  action:
    - service: input_text.set_value
      data_template:
        entity_id: input_text.front_garden_scene
        value: front_garden_off
    - service: light.turn_off
      data:
        entity_id:
          - group.terrace
          - switch.living_room_main
          - group.living_room
          - group.upstairs_hallway
          - group.downstairs_hallway
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_hue_scene
        value: Away
    - service: input_text.set_value
      data:
        entity_id: input_text.kitchen_scene
        value: kitchen_away

- alias: Wakeup
  initial_state: true
  trigger:
    platform: time
    at: "06:00:00"
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.ethans_room
          - group.marcuss_room
    - service: media_player.media_pause
      data:
        entity_id:
          - media_player.ethan_s_room
          - media_player.marcus_room

- alias: Frog Filter On
  initial_state: true
  trigger:
    platform: time
    at: "02:00:00"
  action:
    - service: switch.turn_on
      data:
        entity_id:
          - switch.frog_filter

- alias: Frog Filter Off
  initial_state: true
  trigger:
    platform: time
    at: "08:00:00"
  action:
    - service: switch.turn_off
      data:
        entity_id:
          - switch.frog_filter

- alias: Kitchen Lights On
  initial_state: true
  condition:
    - condition: state
      entity_id: light.kitchen
      state:  "off"
    - condition: numeric_state
      entity_id: sensor.kitchen_light_level
      below: 100
  trigger:
    - platform: state
      entity_id: binary_sensor.kitchen_occupancy
      from: "off"
      to: "on"
  action:
    - service: scene.turn_on
      data_template:
        entity_id: "scene.{{ states('input_text.kitchen_scene') }}"
    - service: hue.hue_activate_scene
      data_template:
        group_name: Kitchen
        scene_name: "{{ states('input_text.kitchen_hue_scene') }}"

- alias: Kitchen Lights Off
  initial_state: true
  trigger:
    platform: state
    entity_id: binary_sensor.kitchen_occupancy
    to: "off"
    for:
      minutes: 10
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.kitchen

- alias: Upstairs Hallway Lights On
  initial_state: true
  condition:
    - condition: numeric_state
      entity_id: sensor.upstairs_hallway_light_level
      below: 30
    - condition: state
      entity_id: binary_sensor.upstairs_hallway_motion
      state: "on"
  trigger:
    - platform: state
      entity_id: sensor.house_mode
    - platform: state
      entity_id: binary_sensor.upstairs_hallway_motion
      from: "off"
      to: "on"
    - platform: numeric_state
      entity_id: sensor.upstairs_hallway_light_level
      below: 30
  action:
    - service: hue.hue_activate_scene
      data_template:
        group_name: Upstairs Hallway
        scene_name: "{{ states('input_text.upstairs_hallway_scene') }}"

- alias: Upstairs Hallway Lights Off
  initial_state: true
  trigger:
    - platform: state
      entity_id: binary_sensor.upstairs_hallway_motion
      to: "off"
      for:
        minutes: 2
    - platform: numeric_state
      entity_id: sensor.upstairs_hallway_light_level
      above: 30
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.upstairs_hallway

- alias: Terrace Lights Bright
  initial_state: true
  trigger:
    platform: state
    entity_id: binary_sensor.back_garden_occupancy
    to: "on"
  condition:
    - condition: state
      entity_id: input_boolean.terrace_occupancy
      state: "off"
    - condition: numeric_state
      entity_id: sensor.outside_light_level
      below: 50
  action:
    - service: input_boolean.turn_on
      entity_id: input_boolean.terrace_occupancy
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_bright_scene') }}"

- alias: Terrace Lights Dimmed
  initial_state: true
  condition:
    - condition: numeric_state
      entity_id: sensor.outside_light_level
      below: 50
  trigger:
    platform: state
    entity_id: binary_sensor.back_garden_occupancy
    to: "off"
    for:
      minutes: 5
  action:
    - service: hue.hue_activate_scene
      data_template:
        group_name: Terrace
        scene_name: "{{ states('input_select.terrace_dimmed_scene') }}"
    - service: input_boolean.turn_off
      entity_id: input_boolean.terrace_occupancy

- alias: Front Garden Lights Bright
  initial_state: true
  trigger:
    platform: state
    entity_id: binary_sensor.front_garden_occupancy
    to: "on"
  condition:
    - condition: numeric_state
      entity_id: sensor.outside_light_level
      below: 50
  action:
    - service: scene.turn_on
      data:
        entity_id: scene.front_garden_bright

- alias: Front Garden Lights Dimmed
  initial_state: true
  condition:
    - condition: numeric_state
      entity_id: sensor.outside_light_level
      below: 50
  trigger:
    platform: state
    entity_id: binary_sensor.front_garden_occupancy
    to: "off"
    for:
      minutes: 2
  action:
    - service: scene.turn_on
      data_template:
        entity_id: "scene.{{ states('input_text.front_garden_scene') }}"

- alias: Turn Power Amp On
  initial_state: true
  trigger:
    - platform: state
      entity_id: media_player.hifi
      to: "playing"
      for:
        seconds: 2
    - platform: state
      entity_id: media_player.hifi
      to: "idle"
      for:
        seconds: 2
    - platform: state
      entity_id: media_player.hifi
      to: "paused"
      for:
        seconds: 2
  action:
    - service: switch.turn_on
      entity_id: switch.power_amplifier

- alias: Turn Power Amp Off
  initial_state: true
  trigger:
    - platform: state
      entity_id: media_player.hifi
      to: "off"
      for:
        seconds: 5
  action:
    - service: switch.turn_off
      entity_id: switch.power_amplifier

- alias: Listening to Music
  initial_state: true
  trigger:
    - platform: template
      value_template: "{{ is_state_attr('media_player.hifi', 'source', 'Playlist') }}"
      for:
        seconds: 2
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Snug
        scene_name: Chill
    - service: scene.turn_on
      data:
        entity_id: scene.snug_music

- alias: Listening to Records
  initial_state: true
  trigger:
    - platform: template
      value_template: "{{ is_state_attr('media_player.hifi', 'source', 'LP12') }}"
      for:
        seconds: 2
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Snug
        scene_name: LP12
    - service: scene.turn_on
      data:
        entity_id: scene.snug_lp12

- alias: Watching the Big Screen
  initial_state: true
  trigger:
    - platform: state
      entity_id: media_player.epson_projector
      to: "on"
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.snug
    - service: scene.turn_on
      data:
        entity_id: scene.snug_movie

- alias: Upstairs Hall Cupboard Door Open
  initial_state: true
  trigger:
    - platform: state
      entity_id: binary_sensor.upstairs_hall_cupboard_door
      to: "on"
  action:
    - service: scene.create
      data:
        scene_id: upstairs_spot_2_before
        snapshot_entities:
          - light.upstairs_spot_2
    - service: light.turn_on
      data:
        entity_id: light.upstairs_spot_2
        color_temp: 153
        brightness: 254

- alias: Upstairs Hall Cupboard Door Closed
  initial_state: true
  trigger:
    - platform: state
      entity_id: binary_sensor.upstairs_hall_cupboard_door
      to: "off"
  action:
    - service: scene.turn_on
      data:
        entity_id: scene.upstairs_spot_2_before

- alias: Snug Lights On
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0d:00:be
      unique_id: 00:17:88:01:08:0d:00:be:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Snug
        scene_name: Relax
    - service: scene.turn_on
      data:
        entity_id: scene.snug_on

- alias: Snug Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0d:00:be
      unique_id: 00:17:88:01:08:0d:00:be:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: homeassistant.turn_off
      data:
        entity_id:
          - group.snug

- alias: Guest Room Scene Mode 1
  initial_state: true
  condition:
    condition: or
    conditions:
      - condition: state
        entity_id: input_text.guest_room_mode
        state: scene_off
      - condition: state
        entity_id: input_text.guest_room_mode
        state: scene_3
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:10:49:e1:d2
      unique_id: 00:17:88:01:10:49:e1:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Guest Room
        scene_name: Dim lamp
    - service: input_text.set_value
      data:
        entity_id: input_text.guest_room_mode
        value: scene_1

- alias: Guest Room Scene Mode 2
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.guest_room_mode
      state: "scene_1"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:10:49:e1:d2
      unique_id: 00:17:88:01:10:49:e1:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Guest Room
        scene_name: Mid bright
    - service: input_text.set_value
      data:
        entity_id: input_text.guest_room_mode
        value: scene_2

- alias: Guest Room Scene Mode 3
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.guest_room_mode
      state: "scene_2"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:10:49:e1:d2
      unique_id: 00:17:88:01:10:49:e1:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Guest Room
        scene_name: Energize
    - service: input_text.set_value
      data:
        entity_id: input_text.guest_room_mode
        value: scene_3

- alias: Guest Room Lights Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:10:49:e1:d2
      unique_id: 00:17:88:01:10:49:e1:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.guest_room
    - service: input_text.set_value
      data:
        entity_id: input_text.guest_room_mode
        value: scene_off

- alias: Bedroom Scene Mode 1
  initial_state: true
  condition:
    condition: or
    conditions:
      - condition: state
        entity_id: input_text.bedroom_mode
        state: scene_off
      - condition: state
        entity_id: input_text.bedroom_mode
        state: scene_3
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:07:fc:d2
      unique_id: 00:17:88:01:08:07:fc:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Bedroom
        scene_name: Scene 1
    - service: input_text.set_value
      data:
        entity_id: input_text.bedroom_mode
        value: scene_1

- alias: Bedroom Scene Mode 2
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.bedroom_mode
      state: "scene_1"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:07:fc:d2
      unique_id: 00:17:88:01:08:07:fc:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Bedroom
        scene_name: Scene 2
    - service: input_text.set_value
      data:
        entity_id: input_text.bedroom_mode
        value: scene_2

- alias: Bedroom Scene Mode 3
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.bedroom_mode
      state: "scene_2"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:07:fc:d2
      unique_id: 00:17:88:01:08:07:fc:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: Bedroom
        scene_name: Scene 3
    - service: input_text.set_value
      data:
        entity_id: input_text.bedroom_mode
        value: scene_3

- alias: Bedroom Lights Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:07:fc:d2
      unique_id: 00:17:88:01:08:07:fc:d2:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.bedroom
    - service: input_text.set_value
      data:
        entity_id: input_text.bedroom_mode
        value: scene_off

- alias: Marcus Room Scene Mode 1
  initial_state: true
  condition:
    condition: or
    conditions:
      - condition: state
        entity_id: input_text.marcuss_room_mode
        state: scene_off
      - condition: state
        entity_id: input_text.marcuss_room_mode
        state: scene_3
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0a:aa:90
      unique_id: 00:17:88:01:08:0a:aa:90:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Marcus’s Room"
        scene_name: Scene 1
    - service: input_text.set_value
      data:
        entity_id: input_text.marcuss_room_mode
        value: scene_1

- alias: Marcus Room Scene Mode 2
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.marcuss_room_mode
      state: "scene_1"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0a:aa:90
      unique_id: 00:17:88:01:08:0a:aa:90:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Marcus’s Room"
        scene_name: Scene 2
    - service: input_text.set_value
      data:
        entity_id: input_text.marcuss_room_mode
        value: scene_2

- alias: Marcus Room Scene Mode 3
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.marcuss_room_mode
      state: "scene_2"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0a:aa:90
      unique_id: 00:17:88:01:08:0a:aa:90:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Marcus’s Room"
        scene_name: Scene 3
    - service: input_text.set_value
      data:
        entity_id: input_text.marcuss_room_mode
        value: scene_3

- alias: Marcus Room Lights Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:08:0a:aa:90
      unique_id: 00:17:88:01:08:0a:aa:90:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.marcuss_room
    - service: media_player.turn_off
      data:
        entity_id:
          - group.marcuss_room
    - service: input_text.set_value
      data:
        entity_id: input_text.marcuss_room_mode
        value: scene_off

- alias: Ethans Room Scene Mode 1
  initial_state: true
  condition:
    condition: or
    conditions:
      - condition: state
        entity_id: input_text.ethans_room_mode
        state: scene_off
      - condition: state
        entity_id: input_text.ethans_room_mode
        state: scene_3
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:06:ea:ec:9c
      unique_id: 00:17:88:01:06:ea:ec:9c:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Ethan’s Room"
        scene_name: Scene 1
    - service: input_text.set_value
      data:
        entity_id: input_text.ethans_room_mode
        value: scene_1

- alias: Ethans Room Scene Mode 2
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.ethans_room_mode
      state: "scene_1"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:06:ea:ec:9c
      unique_id: 00:17:88:01:06:ea:ec:9c:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Ethan’s Room"
        scene_name: Scene 2
    - service: input_text.set_value
      data:
        entity_id: input_text.ethans_room_mode
        value: scene_2

- alias: Ethans Room Scene Mode 3
  initial_state: true
  condition:
    - condition: state
      entity_id: input_text.ethans_room_mode
      state: "scene_2"
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:06:ea:ec:9c
      unique_id: 00:17:88:01:06:ea:ec:9c:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: hue.hue_activate_scene
      data:
        group_name: "Ethan’s Room"
        scene_name: Scene 3
    - service: input_text.set_value
      data:
        entity_id: input_text.ethans_room_mode
        value: scene_3

- alias: Ethans Room Lights Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:06:ea:ec:9c
      unique_id: 00:17:88:01:06:ea:ec:9c:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: light.turn_off
      data:
        entity_id:
          - group.ethans_room
    - service: media_player.turn_off
      data:
        entity_id:
          - group.ethans_room
    - service: input_text.set_value
      data:
        entity_id: input_text.ethans_room_mode
        value: scene_off

- alias: Living Room Big Light On
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:04:f3:de:ed
      unique_id: 00:17:88:01:04:f3:de:ed:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: "on"
  action:
    - service: switch.turn_on
      data:
        entity_id:
          - switch.living_room_main

- alias: Living Room Big Light Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:04:f3:de:ed
      unique_id: 00:17:88:01:04:f3:de:ed:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  action:
    - service: switch.turn_off
      data:
        entity_id:
          - switch.living_room_main

- alias: Living Room Off
  initial_state: true
  trigger:
    platform: event
    event_type: zha_event
    event_data:
      device_ieee: 00:17:88:01:04:f3:de:ed
      unique_id: 00:17:88:01:04:f3:de:ed:1:0x0006
      endpoint_id: 1
      cluster_id: 6
      command: off_with_effect
  condition:
    - condition: state
      entity_id: switch.living_room_main
      state: "off"
  action:
    - service: homeassistant.turn_off
      data:
        entity_id:
          - group.living_room
